import * as config from "../../../../config";
import { SnapshotService } from '../../../../sync.test';

const data = require('./get.data.json');
const { namespaces } = config;

it("${this.className}.${this.functionName} with realtime data", async () => {
  const snapshot = data;
  ${this.matchSnapshot}

  SnapshotService.resolveMockMethods(snapshot, namespaces);
  
  const actualOutput = await ${this.target}.${this.functionName}.apply(
    snapshot?.classObject,
    snapshot?.input as any
  );
  expect(actualOutput).toMatchSnapshot();
  if(snapshot?.output !== null){
    expect(actualOutput).toEqual(snapshot?.output);
  }
});
