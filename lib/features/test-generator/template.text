import { namespaces, SnapshotService } from "../../../react-snap-testing/sync.test";

it("${this.className}.${this.functionName} with realtime data", async () => {
  const snapshot = await SnapshotService.fetch("${this.className}", "${this.functionName}");
  ${this.matchSnapshot}

  SnapshotService.resolveMockMethods(snapshot, namespaces);
  
  const actualOutput = await ${this.target}.${this.functionName}.apply(
    snapshot?.classObject,
    snapshot?.input as any
  );
  expect(actualOutput).toMatchSnapshot();
  if(snapshot?.output !== null){
    expect(actualOutput).toEqual(snapshot?.output);
  }
});
